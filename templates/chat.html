{% extends 'layout.html' %} {% block title %} Flack: {{ channel }} {% endblock %}

<head>
    {% block head %}
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js" defer></script>
    <script src="{{url_for('static', filename='javascript/chat.js')}}" data-user-name='{{ user_name }}' data-channel='{{ channel }}'
        defer></script>
    <link rel='stylesheet' type='text/css' href="{{url_for('static', filename='styles/chat.css')}}"> {% endblock %}
</head>
{% block body %}
<div id='Side_Nav' class='sidenav'>
    <a href="{{ url_for('new_channel') }}" class='sidenav-primary'>New channel</a>
    <a id='close_nav' href='javascript:void(0)' class='closebtn'>&times;</a>
    {% for channel_item in channels %} {% if channel_item.name == channel %}
    <a class='sidenav-active' href="{{ url_for('chat', channel=channel_item.name )}}">{{ channel_item.name }}</a>
    {% else %}
    <a href="{{ url_for('chat', channel=channel_item.name )}}">{{ channel_item.name }}</a>
    {% endif %} {% endfor %}
</div>

<header id='header'>
    <h1 class='d-inline'>Flack Channel: {{ channel }}</h1>
    <h6 class='d-inline text-muted'>
        <span id='other_channel_nav' style="cursor:pointer">(Other Channels)</span>
    </h6>
    <p>Flacker: {{ user_name }} </p>
</header>
<div id='main'>
    <ul id='messages'>
        {% for channel_message in channels[ind].messages %}
        <li>
            {{ channel_message[1] }}
        </li>
        {% endfor %}
    </ul>
</div>
<footer id='footer'>
        <div id='text-container' class='container'>
            <form id='chat-text' name='chat-form'>
                <fieldset>
                    <div class='form-group'>
                        <!-- REMOVE STYLE!!! -->
                        <textarea id='text' form='chat-text' rows='4' placeholder='Type text here...' required></textarea>
                    </div>
                    <input id='current_channel' type='hidden' name='current_channel' value={{ channel }}>
                    <div class='form-group float-right inline'>
                        <button type='submit' id='submit' class='btn btn-primary'>Submit</button>
                    </div>
                </fieldset>
            </form>
        </div>
    </footer>
{% endblock %}

